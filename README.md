copied from intel workflow-profiler. see https://github.com/01org/workflow-profiler  
